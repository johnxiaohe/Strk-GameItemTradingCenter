# GOLD

## 介绍
GOLD是基于StarkNet网络，服务于全链游戏的道具交易中心模块。该模块专注于游戏非代币化道具的交易功能，游戏项目可通过接入该模块快速实现道具交易行功能，节省开发时间。另外还可基于该模块构建地第三方游戏非代币化道具交易平台。

## 背景
该灵感来自第一节课的老师对链上合约开发的介绍，期间老师多次提起全链游戏。随着各大公链处理性能几何倍数增长，已经可以满足全链游戏的运行，2024也被称为全链游戏元年。一条链性能越好、基础设施越完善(生态)将会更加促进项目/玩家在该链上发行/游玩，形成良性循环，上升趋势。  
基于这个想法，如果链上有更多可以加速游戏开发时间，增加玩家准入门槛和生产力变现方式的应用或者工具出来。那么将会吸引更多游戏项目选择Starknet、吸引更多用户选择Starknet上的游戏游玩。尤其是WEB3的玩家，对交易属性尤为看重。  
现在WEB2的网游用户通过第三方平台或者担保交易进行道具交换和变现时，时常有道具、账号找回问题发生，造成经济损失。所以全链游戏天然有安全优势，可以在项目上线前通过接入合约保证此类安全问题发生，并且如果有第三方游戏交易平台出现支持玩家生产道具变现，将更多激发玩家热情以及减少入坑思想阻碍，以及退坑的沉默成本。  
对于部分寻找空投机会，看中经济回报价值的玩家也是一个好事。有支持账号交易的平台，当玩家没有坚持到空投发放的时候，也可以出售账号身份，提前获取部分生产收益。对于半路想入坑博取空投机会的玩家也可以直接通过购买账号获得空投机会而不是从头开始，导致错失空投机会。通过这种方式可以更加减少玩家，打金者入坑阻碍，促进玩家体验更多的游戏。  

## 解决问题
1. 减少开发时间，让开发商专注游戏核心玩法开发  
2. 交易行功能也是游戏BUG重灾区，将该模块单独交由一个团队来做以及增加审查机制，保证交易模块安全性
3. 游戏内部道具繁多，要全部支持代币化，耗时耗力，玩家在第三方平台交易还可能发生欺诈问题，并且影响游戏体验  
4. 支持游戏账号、非代币道具交易，减少玩家入坑限制，也增加WEB3玩家变现渠道(私钥无法交易的特性)  

## 功能设计
>交易模块是一个saas模块，支持各种游戏将自己的元信息预录入
>玩家可以通过交易模块 完成 游戏支持交易的 指定类型 指定道具 以下动作
>发布求购、出售 订单
>发布拍卖订单
>浏览求购、出售 订单
>游戏账号浏览、出售、购买(交易玩家账户在游戏中对应的身份标识proxy id)  

#### 更正思路
该设想是让游戏接入一个链上的 交易系统，交易模块托管在游戏之外。  
这里会涉及到交易过程中：出售、购买的 道具信息在游戏合约中扣减、增加问题。玩家上架道具、购买道具通过游戏 -->交易合约会导致 这个动作需要玩家、游戏方都付出gas。   
如果玩家直接和交易合约交易，该信息交易合约也需要推送给游戏合约保证 玩家持有道具数量的正确性。也是需要玩家、交易合约付出gas，增加了本不必要的成本。
另外交易数据全部在外部系统中，也增加游戏项目方的管理对接成本。

###### 新思路
全链游戏交易行SDK  
一个为全琏游戏提供的交易模块sdk(助力游戏关注核心功能开发，更快上线完整游戏，提升游戏内部道具、官方游戏币的流动性)  
SDK提供道具-游戏币的交易功能：出售、求购、拍卖、流水日志。
提供第三方交易平台对接平台协议接口： 游戏身份查询、背包查询、道具信息查询、道具扣减、道具增加  

全链游戏第三方交易平台  
该平台支持对接了 第三方平台交易协议的 游戏中的玩家将道具/账号从该平台出售为代币(USDT), 平台方从中扣除2%作为手续费，其中1.5%分给游戏方，0.5%作为平台运行使用。  
这里 玩家上架道具会触发平台调用游戏的扣减接口、购买道具会触发平台调用游戏的增加接口。其中也是2次gas，这里是玩家主动行为,并且提供了非代币道具变现渠道，会减少抵触情绪。  

## 细节梳理

#### 项目管理  
> 接入交易行之前，需要项目先在交易行录入创建项目元信息  
##### 游戏信息  
游戏名称  
游戏介绍  
发行商  
流通道具(gold)ID  
流通道具(gold)名称  
道具  
1. 道具名称  
2. 道具介绍  
3. 道具ID  
4. LOGO_URL  
5. 地板价
6. 支持交易方式[gold,后续支持官方erc20代币或其他代币交易]  

##### 功能  
创建项目  
修改项目  
新增、修改道具信息  

#### 订单管理  
##### 上架(创建上架订单)  
订单ID
账户ID  
道具ID
出售总量(预扣除)  
交易方式  
单价  
剩余数量  
购买日志[]  
状态: 完成，撤销
##### 购买(完成上架订单,创建购买日志)  
订单ID
账户ID  
道具ID
购买数量  
支付金额  

##### 求购(创建求购订单)  
订单ID
账户ID  
道具ID
求购总量  
交易方式  
单价  
剩余求购  
出售日志[]  
状态: 完成,撤销

##### 出售(完成求购订单,创建出售日志)  
订单ID
账户ID  
道具ID
出售数量  
交易金额  
交易方式  

##### 拍卖(创建拍卖出售订单)  
订单ID  
账户ID  
道具ID  
道具数量  
交易方式  
一口价  
拍卖底价  
加价floor  
竞拍日志[]  
状态: 完成,撤销  
##### 竞拍(完成拍卖订单,创建竞拍日志)  
订单ID  
账户ID  
道具ID  
竞拍金额  
竞拍类型: 一口价、加价
是否结束  

##### 我的订单
出售订单列表
求购订单列表
拍卖订单列表

#### 账号出售[预想应该需要由游戏方支持类似某些接口协议]  
loading